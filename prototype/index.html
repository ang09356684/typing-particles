<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>打字粒子特效 — 原型</title>
  <link rel="stylesheet" href="prototype.css">
</head>
<body>
  <div class="container">
    <h1>打字粒子特效 原型測試</h1>
    <p class="subtitle">在下方各種輸入框中打字以測試粒子特效</p>

    <!-- Control panel -->
    <div class="control-panel">
      <div class="control-row">
        <label>
          <input type="checkbox" id="ctrl-enabled" checked>
          啟用特效
        </label>
      </div>
      <div class="control-row">
        <span class="label">特效類型：</span>
        <div class="effect-cards" id="ctrl-effects">
          <button class="effect-card active" data-effect="burst">💥 粒子爆發</button>
          <button class="effect-card" data-effect="echo">🔤 文字迴響</button>
          <button class="effect-card" data-effect="vortex">💫 漩渦吸入</button>
          <button class="effect-card" data-effect="sparkle">⭐ 星光閃爍</button>
          <button class="effect-card" data-effect="firefly">✨ 螢光漫舞</button>
          <button class="effect-card" data-effect="confetti">🎊 紙花飄落</button>
          <!-- 原為 🫧 (U+1FAE7, Unicode 14.0)，Windows 10 及舊版 Windows 11 的 Segoe UI Emoji 不支援，改用 SVG -->
          <button class="effect-card" data-effect="bubble"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align:middle"><circle cx="10" cy="11" r="7" stroke="#7EC8E3" stroke-width="1.5" fill="none" opacity="0.9"/><ellipse cx="7.5" cy="8.5" rx="2" ry="1.2" fill="white" opacity="0.5" transform="rotate(-30 7.5 8.5)"/><circle cx="18" cy="5" r="3" stroke="#7EC8E3" stroke-width="1.2" fill="none" opacity="0.6"/><circle cx="19" cy="17" r="2" stroke="#7EC8E3" stroke-width="1" fill="none" opacity="0.5"/></svg> 泡泡飄浮</button>
          <button class="effect-card" data-effect="frost">❄️ 冰霜結晶</button>
          <button class="effect-card" data-effect="flame">🔥 火焰燃燒</button>
          <button class="effect-card" data-effect="ripple">🌊 水波漣漪</button>
          <button class="effect-card" data-effect="electric">⚡ 電流脈衝</button>
          <button class="effect-card" data-effect="diffuse">🌀 擴散漸層</button>
        </div>
      </div>
      <div class="control-row">
        <label>
          強度：<input type="range" id="ctrl-intensity" min="0.1" max="1" step="0.05" value="0.5">
          <span id="ctrl-intensity-val">0.5</span>
        </label>
      </div>
      <div class="control-row stats">
        活躍粒子數：<span id="stat-particles">0</span>
      </div>
    </div>

    <!-- Test inputs: Dark background -->
    <h2 class="section-title">深色背景測試</h2>
    <div class="test-section">
      <input type="text" placeholder="在這裡打字（深色背景）..." class="test-input">
    </div>
    <div class="test-section">
      <textarea rows="3" placeholder="在這裡打字（深色背景）..." class="test-input"></textarea>
    </div>
    <div class="test-section">
      <div contenteditable="true" class="test-input editable" data-placeholder="在這裡打字（深色背景）..."></div>
    </div>

    <!-- Test inputs: Light background -->
    <h2 class="section-title">淺色背景測試</h2>
    <div class="test-section">
      <input type="text" placeholder="在這裡打字（淺色背景）..." class="test-input light-bg">
    </div>
    <div class="test-section">
      <textarea rows="3" placeholder="在這裡打字（淺色背景）..." class="test-input light-bg"></textarea>
    </div>
    <div class="test-section">
      <div contenteditable="true" class="test-input editable light-bg" data-placeholder="在這裡打字（淺色背景）..."></div>
    </div>

    <div class="test-section">
      <h2 class="section-title">Password (應跳過)</h2>
      <input type="password" placeholder="不應出現粒子效果" class="test-input">
    </div>
  </div>

  <!-- Load scripts in order -->
  <script src="../shared/constants.js"></script>
  <script src="../content/caret-detector.js"></script>
  <script src="../content/canvas-manager.js"></script>
  <script src="../content/particle-engine.js"></script>
  <script src="../content/effects/burst.js"></script>
  <script src="../content/effects/echo.js"></script>
  <script src="../content/effects/vortex.js"></script>
  <script src="../content/effects/sparkle.js"></script>
  <script src="../content/effects/firefly.js"></script>
  <script src="../content/effects/confetti.js"></script>
  <script src="../content/effects/bubble.js"></script>
  <script src="../content/effects/frost.js"></script>
  <script src="../content/effects/flame.js"></script>
  <script src="../content/effects/ripple.js"></script>
  <script src="../content/effects/electric.js"></script>
  <script src="../content/effects/diffuse.js"></script>
  <script src="prototype.js"></script>
</body>
</html>
